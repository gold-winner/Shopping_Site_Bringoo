<nz-card [nzTitle]="titleTemplate" [nzExtra]="extraTemplate" style="width:300px;">
  <div class="ml-4 f-3 mt-1 flex-grow-1 item-info">
    <div class="d-flex justify-content-between">
      <h5>Status:</h5>
      <span>{{order.orderStatus}}</span>
    </div>
    <div class="d-flex justify-content-between">
      <span>Store Name:</span>
      <a routerLink="/store/stores/{{order.store.id}}/basic-information" target="_blank">
        {{order.store.name_i18n}}
      </a>
    </div>
    <div class="d-flex justify-content-between">
      <span>Picker Assigned:</span>
      <a
        *ngIf="order.picker as picker; else empty"
        routerLink="/users/staff/details/{{picker.id}}"
        target="_blank"
      >
        {{picker.firstName}} {{picker.lastName}}
      </a>
    </div>
    <div class="d-flex justify-content-between">
      <span>Driver Assigned:</span>
      <a
        *ngIf="order.driver as driver; else empty"
        routerLink="/users/staff/details/{{driver.id}}"
        target="_blank"
      >{{driver.firstName}} {{driver.lastName}}</a>
    </div>
    <div class="d-flex justify-content-between">
      <span>Delivery Date:</span>
      <span>{{order.deliveryDateTime}}</span>
    </div>
    <div *ngIf="order.route" class="d-flex justify-content-between">
      <span>Route Assigned:</span>
      <span>{{order.route.name}}</span>
    </div>
    <div class="d-flex justify-content-between">
      <span>Distance to Store:</span>
      <span>{{order.deliveryDistance|formatDistance}}</span>
    </div>
  </div>
</nz-card>

<ng-template #empty><span>---</span></ng-template>

<ng-template #titleTemplate>
  <span class="index p-1 px-2 mr-2 ml--4 f-4 border-round-sm">{{index}}</span>
  <a routerLink="/orders/all/detail/{{order.orderId}}" target="_blank">{{order.orderNumber}}</a>
</ng-template>

<ng-template #extraTemplate>
  <button
    class='mr--4'
    nz-button
    nzType="text"
    nzSize="small"
    (click)="onClose.emit()"
  ><i nz-icon nzType="close" nzTheme="outline"></i></button>
</ng-template>